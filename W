pcall(function()

if not game.Players.LocalPlayer.Character or game.Players.LocalPlayer.Character:WaitForChild("Humanoid").RigType ~= Enum.HumanoidRigType.R15 then 
    game.StarterGui:SetCore("SendNotification", {Title = "R6", Text = "You're on R6, bro. Change to R15!", Duration = 60})
    return
end

local st = os.clock()
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local camera = workspace.CurrentCamera

cloneref = cloneref or function(o) return o end
local GazeGoGui = cloneref(game:GetService("CoreGui")) or game:GetService("CoreGui") or game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- [KEEP ALL YOUR EXISTING CODE HERE UNTIL THE setAnimation FUNCTION]

-- MODIFIED: setAnimation function to remove ALL default animations
local function setAnimation(animationType, animationId)
    local player = Players.LocalPlayer
    if not player.Character then return end
    
    local Char = player.Character
    local Animate = Char:FindFirstChild("Animate")
    if not Animate then return end

    local success, err = pcall(function()
        -- FIRST: Remove ALL default Roblox animations by setting them to empty
        Animate.idle.Animation1.AnimationId = "rbxassetid://0"
        Animate.idle.Animation2.AnimationId = "rbxassetid://0"
        Animate.walk.WalkAnim.AnimationId = "rbxassetid://0"
        Animate.run.RunAnim.AnimationId = "rbxassetid://0"
        Animate.jump.JumpAnim.AnimationId = "rbxassetid://0"
        Animate.fall.FallAnim.AnimationId = "rbxassetid://0"
        Animate.climb.ClimbAnim.AnimationId = "rbxassetid://0"
        if Animate:FindFirstChild("swim") then
            Animate.swim.SwimAnim.AnimationId = "rbxassetid://0"
        end
        if Animate:FindFirstChild("swimidle") then
            Animate.swimidle.SwimIdleAnim.AnimationId = "rbxassetid://0"
        end
        
        -- NOW: Apply the selected animation
        if animationType == "Idle" then
            lastAnimations.Idle = animationId
            Animate.idle.Animation1.AnimationId = "rbxassetid://" .. animationId[1]
            Animate.idle.Animation2.AnimationId = "rbxassetid://" .. animationId[2]
        elseif animationType == "Walk" then
            lastAnimations.Walk = animationId
            Animate.walk.WalkAnim.AnimationId = "rbxassetid://" .. animationId
        elseif animationType == "Run" then
            lastAnimations.Run = animationId
            Animate.run.RunAnim.AnimationId = "rbxassetid://" .. animationId
        elseif animationType == "Jump" then
            lastAnimations.Jump = animationId
            Animate.jump.JumpAnim.AnimationId = "rbxassetid://" .. animationId
        elseif animationType == "Fall" then
            lastAnimations.Fall = animationId
            Animate.fall.FallAnim.AnimationId = "rbxassetid://" .. animationId
        elseif animationType == "Climb" then
            lastAnimations.Climb = animationId
            Animate.climb.ClimbAnim.AnimationId = "rbxassetid://" .. animationId
        end
        
        saveLastAnimations()
    end)

    if not success then
        warn("Failed to set " .. animationType .. " animation:", err)
    end
end

-- ADD: Function to completely reset to frozen state
local function freezeToDefaultPose()
    local player = Players.LocalPlayer
    if not player.Character then return end
    
    local Char = player.Character
    local Animate = Char:FindFirstChild("Animate")
    if not Animate then return end

    pcall(function()
        -- Remove ALL animations
        Animate.idle.Animation1.AnimationId = "rbxassetid://0"
        Animate.idle.Animation2.AnimationId = "rbxassetid://0"
        Animate.walk.WalkAnim.AnimationId = "rbxassetid://0"
        Animate.run.RunAnim.AnimationId = "rbxassetid://0"
        Animate.jump.JumpAnim.AnimationId = "rbxassetid://0"
        Animate.fall.FallAnim.AnimationId = "rbxassetid://0"
        Animate.climb.ClimbAnim.AnimationId = "rbxassetid://0"
        if Animate:FindFirstChild("swim") then
            Animate.swim.SwimAnim.AnimationId = "rbxassetid://0"
        end
        if Animate:FindFirstChild("swimidle") then
            Animate.swimidle.SwimIdleAnim.AnimationId = "rbxassetid://0"
        end
    end)
end

-- MODIFIED: Respawn handler to start frozen
local function reapplyAnimationsOnRespawn(character)
    task.wait(1)
    
    -- Start completely frozen (no animations)
    freezeToDefaultPose()
    
    -- Then reapply saved animations
    if lastAnimations.Idle then pcall(function() setAnimation("Idle", lastAnimations.Idle) end) end
    if lastAnimations.Walk then pcall(function() setAnimation("Walk", lastAnimations.Walk) end) end
    if lastAnimations.Run then pcall(function() setAnimation("Run", lastAnimations.Run) end) end
    if lastAnimations.Jump then pcall(function() setAnimation("Jump", lastAnimations.Jump) end) end
    if lastAnimations.Fall then pcall(function() setAnimation("Fall", lastAnimations.Fall) end) end
    if lastAnimations.Climb then pcall(function() setAnimation("Climb", lastAnimations.Climb) end) end
end

-- ADD: Button to manually freeze to default pose
createTheButton("Freeze to Default Pose", function()
    freezeToDefaultPose()
    lastAnimations = {}
    saveLastAnimations()
end)

-- [KEEP THE REST OF YOUR EXISTING CODE]
